{"version":3,"sources":["../../../../client/app/account/signup/signup.controller.js"],"names":[],"mappings":"AAAA;;AAEA,QAAQ,MAAR,CAAe,cAAf,EACG,UADH,CACc,YADd,EAC4B,UAAU,MAAV,EAAkB,IAAlB,EAAwB,SAAxB,EAAmC;AAC3D,SAAO,IAAP,GAAc,EAAd,CAD2D;AAE3D,SAAO,MAAP,GAAgB,EAAhB,CAF2D;;AAI3D,SAAO,QAAP,GAAkB,UAAS,IAAT,EAAe;AAC/B,WAAO,SAAP,GAAmB,IAAnB,CAD+B;;AAG/B,QAAG,KAAK,MAAL,EAAa;AACd,WAAK,UAAL,CAAgB;AACd,cAAM,OAAO,IAAP,CAAY,IAAZ;AACN,eAAO,OAAO,IAAP,CAAY,KAAZ;AACP,kBAAU,OAAO,IAAP,CAAY,QAAZ;OAHZ,EAKC,IALD,CAKO,YAAW;;AAEhB,kBAAU,IAAV,CAAe,GAAf,EAFgB;OAAX,CALP,CASC,KATD,CASQ,UAAS,GAAT,EAAc;AACpB,cAAM,IAAI,IAAJ,CADc;AAEpB,eAAO,MAAP,GAAgB,EAAhB;;;AAFoB,eAKpB,CAAQ,OAAR,CAAgB,IAAI,MAAJ,EAAY,UAAS,KAAT,EAAgB,KAAhB,EAAuB;AACjD,eAAK,KAAL,EAAY,YAAZ,CAAyB,UAAzB,EAAqC,KAArC,EADiD;AAEjD,iBAAO,MAAP,CAAc,KAAd,IAAuB,MAAM,OAAN,CAF0B;SAAvB,CAA5B,CALoB;OAAd,CATR,CADc;KAAhB;GAHgB,CAJyC;CAAnC,CAD5B","file":"signup.controller.js","sourcesContent":["'use strict';\n\nangular.module('xinyixianApp')\n  .controller('SignupCtrl', function ($scope, Auth, $location) {\n    $scope.user = {};\n    $scope.errors = {};\n\n    $scope.register = function(form) {\n      $scope.submitted = true;\n\n      if(form.$valid) {\n        Auth.createUser({\n          name: $scope.user.name,\n          email: $scope.user.email,\n          password: $scope.user.password\n        })\n        .then( function() {\n          // Account created, redirect to home\n          $location.path('/');\n        })\n        .catch( function(err) {\n          err = err.data;\n          $scope.errors = {};\n\n          // Update validity of form fields that match the mongoose errors\n          angular.forEach(err.errors, function(error, field) {\n            form[field].$setValidity('mongoose', false);\n            $scope.errors[field] = error.message;\n          });\n        });\n      }\n    };\n\n  });\n"]}