{"version":3,"sources":["../../../../client/app/account/login/login.controller.js"],"names":[],"mappings":"AAAA;;AAEA,QAAQ,MAAR,CAAe,cAAf,EACG,UADH,CACc,WADd,EAC2B,UAAU,MAAV,EAAkB,IAAlB,EAAwB,SAAxB,EAAkC,YAAlC,EAAgD;AACvE,SAAO,IAAP,GAAc,EAAd,CADuE;AAEvE,SAAO,MAAP,GAAgB,EAAhB,CAFuE;;AAIvE,OAAK,IAAL,GAAY,aAAa,IAAb,IAAqB,CAArB,CAJ2D;;AAMvE,OAAK,MAAL,GANuE;AAOvE,MAAG,KAAK,IAAL,IAAW,OAAX,EAAmB;AACpB,cAAU,IAAV,CAAe,GAAf,EADoB;AAEpB,WAFoB;GAAtB;;AAKA,SAAO,KAAP,GAAe,UAAS,IAAT,EAAe;AAC5B,WAAO,SAAP,GAAmB,IAAnB,CAD4B;;AAG5B,QAAG,KAAK,MAAL,EAAa;AACd,WAAK,KAAL,CAAW;AACT,eAAO,OAAO,IAAP,CAAY,KAAZ;AACP,kBAAU,OAAO,IAAP,CAAY,QAAZ;OAFZ,EAIC,IAJD,CAIO,YAAW;;AAEhB,kBAAU,IAAV,CAAe,GAAf,EAFgB;OAAX,CAJP,CAQC,KARD,CAQQ,UAAS,GAAT,EAAc;AACpB,eAAO,MAAP,CAAc,KAAd,GAAsB,IAAI,OAAJ,CADF;OAAd,CARR,CADc;KAAhB;GAHa,CAZwD;CAAhD,CAD3B","file":"login.controller.js","sourcesContent":["'use strict';\n\nangular.module('xinyixianApp')\n  .controller('LoginCtrl', function ($scope, Auth, $location,$stateParams) {\n    $scope.user = {};\n    $scope.errors = {};\n\n    self.role = $stateParams.role || 0;\n\n    Auth.logout();\n    if(self.role!='admin'){\n      $location.path('/');\n      return;\n    }\n\n    $scope.login = function(form) {\n      $scope.submitted = true;\n\n      if(form.$valid) {\n        Auth.login({\n          email: $scope.user.email,\n          password: $scope.user.password\n        })\n        .then( function() {\n          // Logged in, redirect to home\n          $location.path('/');\n        })\n        .catch( function(err) {\n          $scope.errors.other = err.message;\n        });\n      }\n    };\n\n  });\n"]}