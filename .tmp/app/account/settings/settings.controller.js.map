{"version":3,"sources":["../../../../client/app/account/settings/settings.controller.js"],"names":[],"mappings":"AAAA;;AAEA,QAAQ,MAAR,CAAe,cAAf,EACG,UADH,CACc,cADd,EAC8B,UAAU,MAAV,EAAkB,IAAlB,EAAwB,IAAxB,EAA8B;AACxD,SAAO,MAAP,GAAgB,EAAhB,CADwD;;AAGxD,SAAO,cAAP,GAAwB,UAAS,IAAT,EAAe;AACrC,WAAO,SAAP,GAAmB,IAAnB,CADqC;AAErC,QAAG,KAAK,MAAL,EAAa;AACd,WAAK,cAAL,CAAqB,OAAO,IAAP,CAAY,WAAZ,EAAyB,OAAO,IAAP,CAAY,WAAZ,CAA9C,CACC,IADD,CACO,YAAW;AAChB,eAAO,OAAP,GAAiB,gCAAjB,CADgB;OAAX,CADP,CAIC,KAJD,CAIQ,YAAW;AACjB,aAAK,QAAL,CAAc,YAAd,CAA2B,UAA3B,EAAuC,KAAvC,EADiB;AAEjB,eAAO,MAAP,CAAc,KAAd,GAAsB,oBAAtB,CAFiB;AAGjB,eAAO,OAAP,GAAiB,EAAjB,CAHiB;OAAX,CAJR,CADc;KAAhB;GAFsB,CAHgC;CAA9B,CAD9B","file":"settings.controller.js","sourcesContent":["'use strict';\n\nangular.module('xinyixianApp')\n  .controller('SettingsCtrl', function ($scope, User, Auth) {\n    $scope.errors = {};\n\n    $scope.changePassword = function(form) {\n      $scope.submitted = true;\n      if(form.$valid) {\n        Auth.changePassword( $scope.user.oldPassword, $scope.user.newPassword )\n        .then( function() {\n          $scope.message = 'Password successfully changed.';\n        })\n        .catch( function() {\n          form.password.$setValidity('mongoose', false);\n          $scope.errors.other = 'Incorrect password';\n          $scope.message = '';\n        });\n      }\n\t\t};\n  });\n"]}