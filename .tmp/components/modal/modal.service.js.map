{"version":3,"sources":["../../../client/components/modal/modal.service.js"],"names":[],"mappings":"AAAA;;AAEA,QAAQ,MAAR,CAAe,cAAf,EACG,OADH,CACW,OADX,EACoB,UAAU,UAAV,EAAsB,MAAtB,EAA8B;;;;;;;AAO9C,WAAS,SAAT,CAAmB,KAAnB,EAA0B,UAA1B,EAAsC;AACpC,QAAI,aAAa,WAAW,IAAX,EAAb,CADgC;AAEpC,YAAQ,SAAS,EAAT,CAF4B;AAGpC,iBAAa,cAAc,eAAd,CAHuB;;AAKpC,YAAQ,MAAR,CAAe,UAAf,EAA2B,KAA3B,EALoC;;AAOpC,WAAO,OAAO,IAAP,CAAY;AACjB,mBAAa,6BAAb;AACA,mBAAa,UAAb;AACA,aAAO,UAAP;KAHK,CAAP,CAPoC;GAAtC;;;AAP8C,SAsBvC;;;AAGL,aAAS;;;;;;;AAOP,cAAQ,UAAS,GAAT,EAAc;AACpB,cAAM,OAAO,QAAQ,IAAR;;;;;;;AADO,eAQb,YAAW;AAChB,cAAI,OAAO,MAAM,SAAN,CAAgB,KAAhB,CAAsB,IAAtB,CAA2B,SAA3B,CAAP;cACA,OAAO,KAAK,KAAL,EAAP;cACA,WAFJ,CADgB;;AAKhB,wBAAc,UAAU;AACtB,mBAAO;AACL,2BAAa,IAAb;AACA,qBAAO,gBAAP;AACA,oBAAM,gDAAgD,IAAhD,GAAuD,iBAAvD;AACN,uBAAS,CAAC;AACR,yBAAS,YAAT;AACA,sBAAM,QAAN;AACA,uBAAO,UAAS,CAAT,EAAY;AACjB,8BAAY,KAAZ,CAAkB,CAAlB,EADiB;iBAAZ;eAHA,EAMN;AACD,yBAAS,aAAT;AACA,sBAAM,QAAN;AACA,uBAAO,UAAS,CAAT,EAAY;AACjB,8BAAY,OAAZ,CAAoB,CAApB,EADiB;iBAAZ;eATA,CAAT;aAJF;WADY,EAmBX,cAnBW,CAAd,CALgB;;AA0BhB,sBAAY,MAAZ,CAAmB,IAAnB,CAAwB,UAAS,KAAT,EAAgB;AACtC,gBAAI,KAAJ,CAAU,KAAV,EAAiB,IAAjB,EADsC;WAAhB,CAAxB,CA1BgB;SAAX,CARa;OAAd;KAPV;GAHF,CAtB8C;CAA9B,CADpB","file":"modal.service.js","sourcesContent":["'use strict';\r\n\r\nangular.module('xinyixianApp')\r\n  .factory('Modal', function ($rootScope, $modal) {\r\n    /**\r\n     * Opens a modal\r\n     * @param  {Object} scope      - an object to be merged with modal's scope\r\n     * @param  {String} modalClass - (optional) class(es) to be applied to the modal\r\n     * @return {Object}            - the instance $modal.open() returns\r\n     */\r\n    function openModal(scope, modalClass) {\r\n      var modalScope = $rootScope.$new();\r\n      scope = scope || {};\r\n      modalClass = modalClass || 'modal-default';\r\n\r\n      angular.extend(modalScope, scope);\r\n\r\n      return $modal.open({\r\n        templateUrl: 'components/modal/modal.html',\r\n        windowClass: modalClass,\r\n        scope: modalScope\r\n      });\r\n    }\r\n\r\n    // Public API here\r\n    return {\r\n\r\n      /* Confirmation modals */\r\n      confirm: {\r\n\r\n        /**\r\n         * Create a function to open a delete confirmation modal (ex. ng-click='myModalFn(name, arg1, arg2...)')\r\n         * @param  {Function} del - callback, ran when delete is confirmed\r\n         * @return {Function}     - the function to open the modal (ex. myModalFn)\r\n         */\r\n        delete: function(del) {\r\n          del = del || angular.noop;\r\n\r\n          /**\r\n           * Open a delete confirmation modal\r\n           * @param  {String} name   - name or info to show on modal\r\n           * @param  {All}           - any additional args are passed straight to del callback\r\n           */\r\n          return function() {\r\n            var args = Array.prototype.slice.call(arguments),\r\n                name = args.shift(),\r\n                deleteModal;\r\n\r\n            deleteModal = openModal({\r\n              modal: {\r\n                dismissable: true,\r\n                title: 'Confirm Delete',\r\n                html: '<p>Are you sure you want to delete <strong>' + name + '</strong> ?</p>',\r\n                buttons: [{\r\n                  classes: 'btn-danger',\r\n                  text: 'Delete',\r\n                  click: function(e) {\r\n                    deleteModal.close(e);\r\n                  }\r\n                }, {\r\n                  classes: 'btn-default',\r\n                  text: 'Cancel',\r\n                  click: function(e) {\r\n                    deleteModal.dismiss(e);\r\n                  }\r\n                }]\r\n              }\r\n            }, 'modal-danger');\r\n\r\n            deleteModal.result.then(function(event) {\r\n              del.apply(event, args);\r\n            });\r\n          };\r\n        }\r\n      }\r\n    };\r\n  });\r\n"]}